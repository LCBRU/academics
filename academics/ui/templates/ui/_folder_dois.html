{% macro render_publication_folders(publication, folders) %}
    <div id="publication_{{publication.id}}_folders" hx-target="#publication_{{publication.id}}_folders" hx-swap="outerHTML">
        {% for f in publication.folders | sort(attribute='name')%}
            <div class="btn-group mr-1 mb-1" role="group">
                <button type="button" class="btn btn-info dropdown-toggle btn-sm" data-toggle="dropdown" data-display="static" aria-expanded="false"><i class="fas fa-folder"></i> {{ f.name }}</button>
                <div class="dropdown-menu" aria-labelledby="btnGroupAcknowledgement">
                    <a class="dropdown-item" href="{{ url_for('ui.publications', folder_id=f.id ) }}">View Publications in this folder</a>
                    <a class="dropdown-item" href="#" hx-post="{{url_for('ui.publication_delete_folder', folder_id=f.id, doi=publication.doi)}}">Remove</a>
                </div>
            </div>
        {% endfor %}

        {% if folders | reject('in', publication.folders) | list | length > 0 %}
            <div class="btn-group mr-1 mb-1" role="group">
                <button type="button" class="btn btn-info dropdown-toggle btn-sm" data-toggle="dropdown" data-display="static" aria-expanded="false"><i class="fas fa-folder-plus"></i></button>
                <div class="dropdown-menu" aria-labelledby="btnGroupAcknowledgement">
                    {% for f in folders | reject('in', publication.folders) | sort(attribute='name')%}
                        <a class="dropdown-item" href="#" hx-post="{{url_for('ui.publication_add_folder', doi=publication.doi, folder_id=f.id)}}">{{ f.name }}</a>
                    {% endfor %}
                </div>
            </div>
        {% endif %}
    </div>
{% endmacro %}

